<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiningPRO - Ã–deme Tamamlama</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Ana Sayfa Stillerinden Gelen Temel Ayarlar (TutarlÄ±lÄ±k iÃ§in) */
        body, html {
            margin: 0; padding: 0;
            font-family: 'Poppins', sans-serif;
            background: #0D1117; 
            color: #E6EDF3; 
            min-height: 100vh;
            padding-bottom: 70px;
            line-height: 1.6;
        }
        .wrapper {
            max-width: 550px;
            margin: 15px auto;
            padding: 0 15px;
        }
        header {
            background: #161B22;
            padding: 15px;
            text-align: center;
            font-size: 26px;
            font-weight: 800;
            color: #F3BA2F; /* Ã–deme sayfasÄ±nda altÄ±n sarÄ±sÄ± baÅŸlÄ±k */
            text-shadow: 0 0 10px rgba(243, 186, 47, 0.6); 
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.8);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #F3BA2F;
        }
        header i { margin-right: 10px; }

        /* Kart Stili */
        .card {
            background: #161B22;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
            border: 1px solid #2D333B;
        }
        .card h2 {
            color: #00BFFF;
            font-size: 22px;
            margin-bottom: 15px;
            border-bottom: 2px solid #2D333B;
            padding-bottom: 10px;
            font-weight: 700;
        }

        /* Paket Bilgi KartÄ± Stili */
        #package-summary {
            background: #1F2A35;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 5px solid #4CD964;
        }
        #package-summary p {
            margin: 5px 0;
            font-size: 15px;
            color: #A0AEC0;
        }
        #package-summary strong {
            color: #E6EDF3;
            font-weight: 600;
        }
        #total-price {
            display: block;
            font-size: 30px;
            font-weight: 800;
            color: #4CD964;
            margin-top: 10px;
            text-shadow: 0 0 10px rgba(76, 217, 100, 0.5);
        }

        /* Ã–deme SeÃ§enekleri (Dropdown/Select) */
        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #00BFFF;
            font-size: 18px;
        }
        select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            background: #2D333B;
            color: #E6EDF3;
            border: 1px solid #444;
            font-size: 16px;
            appearance: none; 
            cursor: pointer;
            transition: border-color 0.3s;
        }
        select:focus {
            outline: none;
            border-color: #F3BA2F;
        }

        /* Dinamik Ã–deme Form AlanÄ± */
        #payment-details {
            margin-top: 30px;
            padding: 20px;
            border-radius: 10px;
            background: #1F2A35;
            border: 1px solid #444;
            min-height: 150px;
        }

        /* Ortak Form AlanlarÄ± */
        .payment-form input[type="text"],
        .payment-form input[type="file"],
        .payment-form textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 8px;
            background: #2D333B;
            color: #E6EDF3;
            border: 1px solid #444;
            box-sizing: border-box;
        }
        .payment-form input[type="file"] {
            border: 1px dashed #F3BA2F;
            padding: 20px;
            cursor: pointer;
        }
        
        /* Ã–deme Bilgileri AlanÄ± (Havale/Kripto DetaylarÄ±) */
        .account-info {
            background: #2D333B;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 5px solid #F3BA2F;
            font-size: 14px;
        }
        .account-info code {
            display: block;
            background: #0D1117;
            padding: 8px;
            border-radius: 4px;
            margin-top: 5px;
            word-break: break-all;
            color: #4CD964;
            font-weight: 600;
            cursor: pointer;
        }
        .copy-btn {
            background: #00BFFF;
            color: #0D1117;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            margin-top: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }
        .copy-btn:hover { background: #4DCEFF; }

        /* GÃ¶nder Butonu */
        .submit-btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 18px;
            background: #4CD964; /* YeÅŸil */
            color: #0D1117;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 20px;
            box-shadow: 0 6px 20px rgba(76, 217, 100, 0.6);
        }
        .submit-btn:hover { 
            background: #66FF88;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 217, 100, 0.8);
        }

        /* TeÅŸekkÃ¼r EkranÄ± */
        #thank-you-screen {
            text-align: center;
            padding: 50px 20px;
            display: none; /* BaÅŸlangÄ±Ã§ta gizli */
        }
        #thank-you-screen i {
            font-size: 60px;
            color: #4CD964;
            margin-bottom: 20px;
            animation: bounce 0.8s ease-in-out;
        }
        #thank-you-screen h2 {
            color: #00BFFF;
        }
        #thank-you-screen p {
            font-size: 16px;
            color: #A0AEC0;
            margin-top: 15px;
        }
        .home-btn {
            background: #F3BA2F;
            color: #0D1117;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            margin-top: 30px;
            font-weight: 700;
            cursor: pointer;
        }

        /* Animasyon */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        /* UyarÄ± Sistemi (Main Page'den alÄ±ndÄ±) */
        #floatingAlert {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px);
            z-index: 10000; padding: 15px 25px; border-radius: 10px; font-weight: 700;
            color: #121212; box-shadow: 0 5px 20px rgba(0,0,0,0.4); transition: opacity 0.4s, transform 0.4s;
            opacity: 0; pointer-events: none; max-width: 90%; text-align: center;
        }
        #floatingAlert.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        .alert-success { background: #4cd964; }
        .alert-error { background: #ff0057; }
        .alert-warning { background: #f3ba2f; }
        .alert-info { background: #00bfff; }
    </style>
</head>
<body>

<div id="floatingAlert" class="alert-success"></div>

<header><i class="fas fa-money-check-alt"></i> Ã–DEME SAYFASI</header>
<div class="wrapper">

    <div class="card" id="thank-you-screen">
        <i class="fas fa-check-circle"></i>
        <h2>ðŸŽ‰ SipariÅŸiniz AlÄ±ndÄ±!</h2>
        <p>Dekontunuz baÅŸarÄ±yla bize iletildi. **TeÅŸekkÃ¼r ederiz!**</p>
        <p>En kÄ±sa sÃ¼rede (genellikle 5-15 dakika) Ã¶demeniz kontrol edilecek ve hÄ±z kodunuz/paketinize eriÅŸiminiz **e-posta ve uygulama iÃ§i bildirim** ile size ulaÅŸtÄ±rÄ±lacaktÄ±r.</p>
        <button class="home-btn" onclick="goToHomePage()">KazÄ±m SayfasÄ±na DÃ¶n</button>
    </div>

    <div id="payment-form-container">
        <div class="card">
            <h2>ðŸ“¦ SipariÅŸ DetaylarÄ±</h2>
            <div id="package-summary">
                <p>SeÃ§ilen Paket: <strong id="summary-name">YÃ¼kleniyor...</strong></p>
                <p>HÄ±z Ã‡arpanÄ±: <strong id="summary-speed">--</strong></p>
                <p>SÃ¼re: <strong id="summary-duration">--</strong></p>
                <span id="total-price">-- USDT</span>
            </div>
        </div>

        <div class="card">
            <h2>ðŸ’³ Ã–deme YÃ¶ntemi SeÃ§in</h2>
            <div class="form-group">
                <label for="payment-method">YÃ¶ntem:</label>
                <select id="payment-method" onchange="updatePaymentDetails()">
                    <option value="">LÃ¼tfen Bir Ã–deme YÃ¶ntemi SeÃ§iniz</option>
                    <option value="crypto">Kripto Para (USDT, BTC, ETH)</option>
                    <option value="eft">Havale / EFT / FAST</option>
                    <option value="card">Kredi KartÄ± / Banka KartÄ±</option>
                </select>
            </div>
        </div>

        <div class="card" id="payment-details">
            <p style="text-align: center; color: #777;">LÃ¼tfen Ã¶deme yÃ¶ntemi seÃ§iniz.</p>
        </div>
    </div>

</div>

<script>
let selectedPackage = {};
let alertTimeout = null;

// --- UYARI FONKSÄ°YONU ---
function showFloatingAlert(message, type = 'success', duration = 3000) {
    const alertEl = document.getElementById('floatingAlert');
    if (!alertEl) return;
    clearTimeout(alertTimeout);
    alertEl.className = '';
    alertEl.classList.add(`alert-${type}`);
    alertEl.innerText = message;
    alertEl.classList.add('show');
    alertTimeout = setTimeout(() => {
        alertEl.classList.remove('show');
    }, duration);
}

// --- KOPYALAMA FONKSÄ°YONU ---
function copyToClipboard(text, elementId) {
    navigator.clipboard.writeText(text).then(() => {
        showFloatingAlert(`${elementId} kopyalandÄ±!`, 'success');
    }).catch(err => {
        console.error('Kopyalama baÅŸarÄ±sÄ±z oldu: ', err);
    });
}

// --- Ã–DEME DETAYLARINI GÃœNCELLEME ---
function updatePaymentDetails() {
    const method = document.getElementById('payment-method').value;
    const detailsDiv = document.getElementById('payment-details');
    let content = '';

    if (!selectedPackage.price) {
        detailsDiv.innerHTML = '<p style="text-align: center; color: #ff0057;">Hata: Paket fiyat bilgisi yÃ¼klenemedi. LÃ¼tfen sayfayÄ± yenileyin.</p>';
        return;
    }
    
    // Kripto Para Ã–deme Formu
    if (method === 'crypto') {
        content = `
            <h2><i class="fas fa-coins"></i> Kripto Ã–deme (USDT TRC-20)</h2>
            <p>LÃ¼tfen toplam **${selectedPackage.price} USDT** tutarÄ±nÄ± aÅŸaÄŸÄ±daki adrese gÃ¶nderdikten sonra dekontunuzu yÃ¼kleyiniz.</p>
            
            <div class="account-info">
                <strong>USDT (TRC-20) Adresi:</strong>
                <code id="crypto-address-code">TRC20x098d7fA3eB4C5D6F7G8H9I0J1K2L3M4N5O6P7Q8R</code>
                <button class="copy-btn" onclick="copyToClipboard('TRC20x098d7fA3eB4C5D6F7G8H9I0J1K2L3M4N5O6P7Q8R', 'Adres')">Adresi Kopyala</button>
            </div>

            <form class="payment-form" onsubmit="handlePaymentSubmit(event, 'Kripto')">
                <input type="text" placeholder="GÃ¶nderici CÃ¼zdan Adresi (Kontrol iÃ§in)" required>
                <input type="file" accept="image/*,.pdf" required>
                <button type="submit" class="submit-btn">Ã–demeyi Tamamla ve Dekont YÃ¼kle</button>
            </form>
        `;
    // Havale/EFT Ã–deme Formu
    } else if (method === 'eft') {
        const tlPrice = (selectedPackage.price * 32.50).toFixed(2); // Ã–rnek Kur
        content = `
            <h2><i class="fas fa-university"></i> Havale / EFT / FAST</h2>
            <p>LÃ¼tfen toplam **${selectedPackage.price} USDT** karÅŸÄ±lÄ±ÄŸÄ± olan yaklaÅŸÄ±k **${tlPrice} TL** tutarÄ±nÄ± aÅŸaÄŸÄ±daki hesaba gÃ¶nderiniz.</p>
            
            <div class="account-info">
                <strong>Banka AdÄ±:</strong> Mining Ã–deme Hizmetleri A.Åž. <br>
                <strong>IBAN No:</strong>
                <code id="iban-code">TR990001000000000000000001</code>
                <button class="copy-btn" onclick="copyToClipboard('TR990001000000000000000001', 'IBAN')">IBAN Kopyala</button>
            </div>

            <form class="payment-form" onsubmit="handlePaymentSubmit(event, 'EFT')">
                <input type="text" placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z (Dekonttaki AdÄ±nÄ±z)" required>
                <input type="file" accept="image/*,.pdf" required>
                <button type="submit" class="submit-btn">Ã–demeyi Tamamla ve Dekont YÃ¼kle</button>
            </form>
        `;
    // Kredi KartÄ± Ã–deme (YÃ¶nlendirme SimÃ¼lasyonu)
    } else if (method === 'card') {
        content = `
            <h2><i class="fas fa-credit-card"></i> Kredi KartÄ± / Banka KartÄ±</h2>
            <p>KartlÄ± Ã¶deme yÃ¶ntemi ile **${selectedPackage.price} USDT** karÅŸÄ±lÄ±ÄŸÄ± TL tutarÄ±nÄ± gÃ¼venli Ã¶deme sistemimiz Ã¼zerinden tamamlayabilirsiniz. YÃ¶nlendirme yapÄ±lacaktÄ±r.</p>
            
            <p style="text-align:center; color:#F3BA2F; font-weight:600;"><i class="fas fa-lock"></i> Bu yÃ¶ntemi seÃ§tiÄŸinizde harici gÃ¼venli Ã¶deme sayfasÄ±na yÃ¶nlendirileceksiniz.</p>
            
            <form class="payment-form" onsubmit="handlePaymentSubmit(event, 'Kart', true)">
                <input type="text" placeholder="Kart Ãœzerindeki Ad Soyad" required>
                <button type="submit" class="submit-btn" style="background: #00BFFF; box-shadow: 0 6px 20px rgba(0, 191, 255, 0.6);">GÃ¼venli Ã–deme SayfasÄ±na Git</button>
            </form>
        `;
    } else {
        content = '<p style="text-align: center; color: #777;">LÃ¼tfen Ã¶deme yÃ¶ntemi seÃ§iniz.</p>';
    }

    detailsDiv.innerHTML = content;
}

// --- Ã–DEME FORMU GÃ–NDERÄ°MÄ° VE YÃ–NLENDÄ°RME ---
function handlePaymentSubmit(event, method, isCard = false) {
    event.preventDefault(); 
    
    if (isCard) {
        // Kart Ã¶demesinde dekont yÃ¼kleme yok, direkt sanal Ã¶deme sayfasÄ±na yÃ¶nlendirir (simÃ¼lasyon)
        showFloatingAlert('GÃ¼venli Ã¶deme sayfasÄ±na yÃ¶nlendiriliyorsunuz...', 'info');
        setTimeout(() => {
            showThankYouScreen(); 
        }, 1500); 
    } else {
        // EFT/Kripto (Dekont YÃ¼kleme tamamlandÄ±)
        showThankYouScreen();
    }
}

// --- TEÅžEKKÃœR EKRANINI GÃ–STERME ---
function showThankYouScreen() {
    document.getElementById('payment-form-container').style.display = 'none';
    const thankYouScreen = document.getElementById('thank-you-screen');
    thankYouScreen.style.display = 'block';
    
    showFloatingAlert("SipariÅŸiniz baÅŸarÄ±yla alÄ±ndÄ±! YÃ¶nlendiriliyorsunuz...", 'success', 4000);

    // 8 saniye sonra otomatik ana sayfaya yÃ¶nlendirme
    setTimeout(goToHomePage, 8000); 
}

// --- ANASAYFAYA YÃ–NLENDÄ°RME ---
function goToHomePage() {
    // GerÃ§ek ana sayfanÄ±zÄ±n adÄ± miningpro.html ise
    window.location.href = 'miningpro.html'; 
    // EÄŸer kazÄ±m sayfanÄ±zÄ±n adÄ± 'hizal.html' ise, oraya yÃ¶nlendirebilirsiniz.
    // window.location.href = 'hizal.html'; 
}

// --- SAYFA BAÅžLANGICI ---
document.addEventListener('DOMContentLoaded', () => {
    // URL'den parametreleri al (hizal.html'den gelenler)
    const urlParams = new URLSearchParams(window.location.search);
    
    const name = urlParams.get('name');
    const speed = urlParams.get('speed');
    const price = parseFloat(urlParams.get('price'));
    const duration = urlParams.get('duration');

    if (name && !isNaN(price)) {
        selectedPackage = { name, speed, price, duration };
        
        // Paket Ã¶zetini doldur
        document.getElementById('summary-name').innerText = name;
        document.getElementById('summary-speed').innerText = `${speed}x`;
        document.getElementById('summary-duration').innerText = `${duration} GÃ¼n`;
        document.getElementById('total-price').innerText = `${price.toFixed(2)} USDT`; // FiyatÄ± 2 ondalÄ±k basamakla gÃ¶ster
        
        showFloatingAlert(`Paket: ${name} (${price.toFixed(2)} USDT) yÃ¼klendi.`, 'success', 2000);
    } else {
        // Paket bilgisi yoksa uyarÄ± ver
        showFloatingAlert("Hata: Paket bilgileri bulunamadÄ±. Ana sayfaya yÃ¶nlendiriliyor...", 'error', 5000);
        setTimeout(() => { window.location.href = 'hizal.html'; }, 5000); 
    }
});
</script>
</body>
</html>
